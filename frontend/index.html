<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oracle d'Entropie</title>
    <!-- CORRECTION : Le chemin vers style.css est correct car il est relatif à la racine du serveur / (qui est /app) -->
    <link rel="stylesheet" href="/src/styles/style.css">
    <link rel="icon" type="image/png" href="/favicon.png">
</head>
<body>
    <div class="app-container">
        <nav class="navigation">
            <button id="nav-main" class="nav-button active">Générateur Aléatoire Classique</button>
            <button id="nav-icosahedron" class="nav-button">Icosaèdre Dynamique</button>
<button id="nav-spiral-simple" class="nav-button">Spirale Simple</button>
            <button id="nav-spiral_torus" class="nav-button">Spirale Toroïdale</button>
            <button id="nav-cubes" class="nav-button">Cubes Dynamiques</button>
            <button id="nav-stream" class="nav-button">Flux de Tokens</button>
            <button id="nav-internal-tool" class="nav-button">Outil Interne de Sécurité</button>
        </nav>

        <!-- Première Interface: Générateur Aléatoire Classique (sans 3D) -->
        <div id="main-interface" class="interface-section">
            <div class="content-card">
                <h1 class="title">Nombre Aléatoire Généré</h1>
                <div class="input-group">
                    <label for="classic-token-length">Longueur du Token (8-128) :</label>
                    <input type="number" id="classic-token-length" value="32" min="8" max="128" />
                </div>
                <div class="input-group">
                    <span class="group-label">Inclure :</span>
                    <label><input type="checkbox" id="classic-lowercase" checked /> Minuscules</label>
                    <label><input type="checkbox" id="classic-uppercase" checked /> Majuscules</label>
                    <label><input type="checkbox" id="classic-numbers" checked /> Chiffres</label>
                    <label><input type="checkbox" id="classic-symbols" checked /> Symboles</label>
                </div>
                <div class="input-group">
                    <label>
                        <input type="checkbox" id="classic-weather" checked />
                        Utiliser l’API météo
                    </label>
                </div>
                <div class="output-group">
                    <label for="random-number">Token généré :</label>
                    <textarea id="random-number" class="random-token-box" readonly rows="2"></textarea>
                </div>
                <button id="generate-button" class="generate-button">Générer</button>
                <div id="feedback-classic" role="alert" aria-live="polite"></div>
                <div id="entropy-data" class="entropy-data"></div>
            </div>
        </div>

        <!-- Deuxième Interface: Icosaèdre Dynamique -->
        <div id="icosahedron-interface" class="interface-section hidden">
            <div class="content-card">
                <h2 class="title">Icosaèdre Dynamique</h2>
                <button id="toggle-icosahedron-animation" class="generate-button">Stop Animation</button>
            </div>
            <div id="icosahedron-3d"></div>
        </div>

        <!-- Troisième Interface: Spirale Toroïdale -->
        <div id="spiral-simple-interface" class="interface-section hidden">
            <div class="content">
                <h2 class="title">Spirale Simple</h2>
                <button id="toggle-spiral-simple-animation" class="generate-button">Start Animation</button>
                <div class="controls"></div>
            </div>
            <div id="spiral-simple-3d"></div>
        </div>
        <div id="spiral_torus-interface" class="interface-section hidden">
            <div class="content-card">
                <h2 class="title">Spirale Toroïdale</h2>
                <button id="toggle-spiral_torus-animation" class="generate-button">Stop Animation</button>
            </div>
            <div id="spiral-torus-3d"></div>
        </div>

        <!-- Quatrième Interface: Cubes Dynamiques -->
        <div id="cubes-interface" class="interface-section hidden">
            <div class="content-card">
                <h2 class="title">Cubes Dynamiques</h2>
                <button id="toggle-cubes-animation" class="generate-button">Stop Animation</button>
            </div>
            <div id="icosahedron-3d-cubes"></div>
        </div>

        <!-- Cinquième Interface: Spirale Dynamique -->
        <div id="spiral-interface" class="interface-section hidden">
            <div class="content-card">
                <h2 class="title">Spirale Dynamique</h2>
                <button id="toggle-spiral-animation" class="generate-button">Stop Animation</button>
            </div>
            <div id="icosahedron-3d-spiral"></div>
        </div>

        <!-- Sixième Interface: Flux de Tokens -->
        <div id="stream-interface" class="interface-section hidden">
            <div class="content-card">
                <h2 class="title">Flux de Tokens Robustes</h2>
                <div class="input-group">
                    <label for="stream-length">Longueur du Token (8-128) :</label>
                    <input type="number" id="stream-length" value="32" min="8" max="128" />
                </div>
                <div class="input-group">
                    <span class="group-label">Inclure :</span>
                    <label><input type="checkbox" id="stream-lowercase" checked /> Minuscules</label>
                    <label><input type="checkbox" id="stream-uppercase" checked /> Majuscules</label>
                    <label><input type="checkbox" id="stream-numbers" checked /> Chiffres</label>
                    <label><input type="checkbox" id="stream-symbols" checked /> Symboles</label>
                </div>
                <div class="input-group">
                    <label for="stream-capacity">Capacité de Stockage (en Ko) :</label>
                    <input type="number" id="stream-capacity" value="1024" min="1" max="102400" />
                </div>
                <button id="start-stream-button" class="generate-button">Démarrer Flux</button>
                <div id="feedback-stream" role="alert" aria-live="polite"></div>
            </div>
            <div id="stream-visualizer-3d"></div>
            <div class="output-group">
                <label for="generated-stream-output">Flux de Tokens :</label>
                <textarea id="generated-stream-output" class="stream-text-box" readonly rows="10"></textarea>
                <button id="export-stream-button" class="generate-button">Exporter Flux (.txt)</button>
            </div>
        </div>

        <!-- Septième Interface: Outil Interne de Sécurité Avancé -->
        <div id="internal-tool-interface" class="interface-section hidden">
            <div class="content-card internal-tool-container">
                <h2 class="title">Générateur de Sécurité Interne</h2>
                <div class="input-group">
                    <label for="token-length">Longueur du Token/Mot de Passe (8-128) :</label>
                    <input type="number" id="token-length" value="32" min="8" max="128" />
                </div>
                <div class="input-group">
                    <span class="group-label">Inclure :</span>
                    <label><input type="checkbox" id="include-lowercase" checked /> Minuscules</label>
                    <label><input type="checkbox" id="include-uppercase" checked /> Majuscules</label>
                    <label><input type="checkbox" id="include-numbers" checked /> Chiffres</label>
                    <label><input type="checkbox" id="include-symbols" checked /> Symboles</label>
                </div>
                <button id="generate-secure-button" class="generate-button" disabled>Générer Token Sécurisé</button>
                <div class="output-group">
                    <label for="generated-token">Token Généré :</label>
                    <textarea id="generated-token" readonly rows="3"></textarea>
                    <button id="copy-token-button" class="generate-button copy-button" disabled>Copier</button>
                </div>
                <div id="feedback-message" role="alert" aria-live="polite"></div>
            </div>
        </div>
    </div>
    
    <!-- CORRECTION : Les chemins vers les scripts JS doivent être relatifs à la racine du serveur '/' -->
    <!-- Le serveur Nginx servira /app comme racine, et les fichiers JS sont dans /app/src/ -->
    <script type="module" src="/src/utils/three_utils.js"></script>
    <script type="module" src="/src/visualizers/icosahedron.js"></script>
    <script type="module" src="/src/visualizers/spiral_torus_visualizer.js"></script>
    <script type="module" src="/src/visualizers/spiral_simple_visualizer.js"></script>
    <script type="module" src="/src/visualizers/cubes_visualizer.js"></script>
    <script type="module" src="/src/visualizers/stream_visualizer.js"></script> <!-- CORRECTION : stream_visualizer.js déplacé dans visualizers/ -->
    <script type="module" src="/src/views/classic_generator.js"></script>
    <script type="module" src="/src/views/internal_tool.js"></script>
    <script type="module" src="/src/main.js"></script>
</body>
</html>
